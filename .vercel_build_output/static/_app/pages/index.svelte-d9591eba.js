import{S as t,i as n,s as e,j as s,m as o,o as r,v as a,r as l,w as i,l as c,f as $,B as f,u as p,d,P as u,Q as m,e as g,c as h,a as v,I as x,J as w,R as j,k,n as y,T as P,O as b}from"../chunks/vendor-ad960fc4.js";import{C}from"../chunks/Card-d2511efd.js";import{P as B}from"../chunks/PostHOC-a627cb8a.js";import"../chunks/preload-helper-9f12a5fd.js";function I(t){let n,e,u;var m=t[1].content;return m&&(n=new m({})),{c(){n&&s(n.$$.fragment),e=c()},l(t){n&&o(n.$$.fragment,t),e=c()},m(t,s){n&&r(n,t,s),$(t,e,s),u=!0},p(t,o){if(m!==(m=t[1].content)){if(n){f();const t=n;l(t.$$.fragment,1,0,(()=>{i(t,1)})),p()}m?(n=new m({}),s(n.$$.fragment),a(n.$$.fragment,1),r(n,e.parentNode,e)):n=null}},i(t){u||(n&&a(n.$$.fragment,t),u=!0)},o(t){n&&l(n.$$.fragment,t),u=!1},d(t){t&&d(e),n&&i(n,t)}}}function N(t){let n,e;return n=new C({props:{title:t[1].title,link:"/posts/"+t[1].id,level:3,collapsable:!0,$$slots:{default:[I]},$$scope:{ctx:t}}}),{c(){s(n.$$.fragment)},l(t){o(n.$$.fragment,t)},m(t,s){r(n,t,s),e=!0},p(t,e){const s={};2&e&&(s.title=t[1].title),2&e&&(s.link="/posts/"+t[1].id),6&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(a(n.$$.fragment,t),e=!0)},o(t){l(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function O(t){let n,e;return n=new B({props:{postid:t[0],$$slots:{default:[N,({post:t})=>({1:t}),({post:t})=>t?2:0]},$$scope:{ctx:t}}}),{c(){s(n.$$.fragment)},l(t){o(n.$$.fragment,t)},m(t,s){r(n,t,s),e=!0},p(t,[e]){const s={};1&e&&(s.postid=t[0]),6&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(a(n.$$.fragment,t),e=!0)},o(t){l(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function R(t,n,e){let{postid:s}=n;return t.$$set=t=>{"postid"in t&&e(0,s=t.postid)},[s]}class D extends t{constructor(t){super(),n(this,t,R,O,e,{postid:0})}}function E(t,n,e){const s=t.slice();return s[3]=n[e],s}function H(t){let n,e,s,o=t[0],r=[];for(let a=0;a<o.length;a+=1)r[a]=J(E(t,o,a));const i=t=>l(r[t],1,1,(()=>{r[t]=null}));return{c(){n=g("div");for(let t=0;t<r.length;t+=1)r[t].c()},l(t){n=h(t,"DIV",{});var e=v(n);for(let n=0;n<r.length;n+=1)r[n].l(e);e.forEach(d)},m(t,e){$(t,n,e);for(let s=0;s<r.length;s+=1)r[s].m(n,null);s=!0},p(t,e){if(1&e){let s;for(o=t[0],s=0;s<o.length;s+=1){const l=E(t,o,s);r[s]?(r[s].p(l,e),a(r[s],1)):(r[s]=J(l),r[s].c(),a(r[s],1),r[s].m(n,null))}for(f(),s=o.length;s<r.length;s+=1)i(s);p()}},i(t){if(!s){for(let t=0;t<o.length;t+=1)a(r[t]);t&&x((()=>{e||(e=w(n,b,{},!0)),e.run(1)})),s=!0}},o(t){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)l(r[n]);t&&(e||(e=w(n,b,{},!1)),e.run(0)),s=!1},d(t){t&&d(n),j(r,t),t&&e&&e.end()}}}function J(t){let n,e;return n=new D({props:{postid:t[3]}}),{c(){s(n.$$.fragment)},l(t){o(n.$$.fragment,t)},m(t,s){r(n,t,s),e=!0},p(t,e){const s={};1&e&&(s.postid=t[3]),n.$set(s)},i(t){e||(a(n.$$.fragment,t),e=!0)},o(t){l(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Q(t){let n,e,g,h,v;function x(n){t[2](n)}let w={title:"Recent Posts",header:!0,level:2,collapsable:!0};void 0!==t[1]&&(w.collapsed=t[1]),n=new C({props:w}),u.push((()=>m(n,"collapsed",x)));let j=!t[1]&&H(t);return{c(){s(n.$$.fragment),g=k(),j&&j.c(),h=c()},l(t){o(n.$$.fragment,t),g=y(t),j&&j.l(t),h=c()},m(t,e){r(n,t,e),$(t,g,e),j&&j.m(t,e),$(t,h,e),v=!0},p(t,[s]){const o={};!e&&2&s&&(e=!0,o.collapsed=t[1],P((()=>e=!1))),n.$set(o),t[1]?j&&(f(),l(j,1,1,(()=>{j=null})),p()):j?(j.p(t,s),2&s&&a(j,1)):(j=H(t),j.c(),a(j,1),j.m(h.parentNode,h))},i(t){v||(a(n.$$.fragment,t),a(j),v=!0)},o(t){l(n.$$.fragment,t),l(j),v=!1},d(t){i(n,t),t&&d(g),j&&j.d(t),t&&d(h)}}}function S(t,n,e){let{postids:s}=n,o=!1;return t.$$set=t=>{"postids"in t&&e(0,s=t.postids)},[s,o,function(t){o=t,e(1,o)}]}class T extends t{constructor(t){super(),n(this,t,S,Q,e,{postids:0})}}function V(t){let n,e;return n=new T({props:{postids:t[0]}}),{c(){s(n.$$.fragment)},l(t){o(n.$$.fragment,t)},m(t,s){r(n,t,s),e=!0},p(t,[e]){const s={};1&e&&(s.postids=t[0]),n.$set(s)},i(t){e||(a(n.$$.fragment,t),e=!0)},o(t){l(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}var q=function(t,n,e,s){return new(e||(e=Promise))((function(o,r){function a(t){try{i(s.next(t))}catch(n){r(n)}}function l(t){try{i(s.throw(t))}catch(n){r(n)}}function i(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,l)}i((s=s.apply(t,n||[])).next())}))};function z({page:t,fetch:n,session:e,context:s}){return q(this,void 0,void 0,(function*(){return{props:{postids:yield(yield n("/posts/posts.json")).json()}}}))}function A(t,n,e){let{postids:s}=n;return t.$$set=t=>{"postids"in t&&e(0,s=t.postids)},[s]}export default class extends t{constructor(t){super(),n(this,t,A,V,e,{postids:0})}}export{z as load};
